import{c as d,b as l,A as s}from"./index-CS0tk83g.js";const u=d((e,i)=>({articles:[],page:1,limit:10,hasMore:!0,loading:!1,error:null,articleStats:[],fetchArticles:async()=>{const{page:a,limit:o,hasMore:c,loading:n}=i();if(!(!c||n)){e({loading:!0});try{const r=(await l.get(`${s}?page=${a}&limit=${o}`)).data.data;e(t=>({articles:[...t.articles,...r],page:t.page+1,hasMore:r.length>=t.limit,loading:!1}))}catch{e({error:"Failed to load articles",loading:!1})}}},fetchStats:async()=>{try{const a=await l.get(`${s}stats`,{withCredentials:!0,headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});e({articleStats:a.data})}catch(a){console.error("Failed to fetch stats:",a)}},resetArticles:()=>{e({articles:[],page:1,hasMore:!0,loading:!1,error:null})}}));export{u};
